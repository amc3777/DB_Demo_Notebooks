# yaml-language-server: $schema=bundle-settings-schema.json
bundle:
  name: ml-workflow

resources:
  jobs:
    ml-workflow-job:
      name: ml-workflow-job
      job_clusters:
        - job_cluster_key: photon-cluster
          new_cluster:
            spark_version: 13.3.x-photon-scala2.12
            node_type_id: Standard_DS3_v2
            num_workers: 1
      tasks:
        - task_key: 01-save-raw-data-task
          job_cluster_key: photon-cluster
          spark_python_task:
            python_file: ./01_save_raw_data.py
        - task_key: 02-save-prepared-data-task
          depends_on:
            - task_key: 01-save-raw-data-task
          job_cluster_key: photon-cluster
          spark_python_task:
            python_file: ./02_save_prepared_data.py

environments:
  development:
    workspace:
      host: https://adb-984752964297111.11.azuredatabricks.net/